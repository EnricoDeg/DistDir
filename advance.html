<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DistDir: Advance Topics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DistDir
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Advance Topics </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#config">Configuration parameters</a></li>
<li class="level1"><a href="#map3d">Mapping 3D fields</a></li>
<li class="level1"><a href="#exchanger">Exchanger methods</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="config"></a>
Configuration parameters</h1>
<p>When the library is initialized calling <code>distdir_initialize</code>, a <code><a class="el" href="structt__config.html">t_config</a></code> structure is internally created. It contains the settings of the library which can be specified as environment variables or using API functions. At the moment, the following settings are supported:</p>
<ul>
<li>hardware type: it can be specified using the environment variable <code>DISTDIR_HARDWARE</code> or the API function <code>set_config_hardware</code> </li>
<li>exchanger type: it can be specified using the environment variable <code>DISTDIR_EXCHANGER</code> or the API function <code>set_config_exchanger</code> </li>
<li>verbose mode: it can be specified using the environment variable <code>DISTDIR_VERBOSE</code> or the API function <code>set_config_verbose</code> </li>
</ul>
<p>The hardware type specifies if the MPI ranks are running on CPU or GPU. An enumerator is defined internally:</p>
<ul>
<li><code>CPU=0</code> </li>
<li><code>GPU_NVIDIA=1</code> </li>
<li><code>GPU_AMD=2</code> </li>
</ul>
<p>The <code>CPU</code> is the default. The environment variable would set this parameter globally, while the API allows to set it per MPI rank. This means that a group of MPI processes can run on the GPU and send data to a group of MPI processes running on the CPU. In this case, the API function must be used and it can be set per <a class="el" href="structt__map.html">t_map</a>, before the call to <code>new_map</code>.</p>
<p>The exchanger type specifies the type of exchange. An enumerator is defined internally:</p>
<ul>
<li><code>IsendIrecv=0</code> : each buffer to be sent is filled and then sent with a call to <code>MPI_Isend</code>, while all the buffers to be received are received with a call to <code>MPI_Irecv</code>, then <code>MPI_Waitall</code> is called and the received buffers are unpacked into the field data array</li>
<li><code>IsendRecv1=1</code> : each buffer to be sent is filled and then sent with a call to <code>MPI_Isend</code>, then <code>MPI_Waitalc</code> l is called. Finally, all the buffers to be received are received with a call to <code>MPI_Recv</code> and as the final step all the received buffers are unpacked into the field data array</li>
<li><code>IsendRecv2=2</code> : each buffer to be sent is filled and then sent with a call to <code>MPI_Isend</code>, then <code>MPI_Waitall</code> is called. Finally, all the buffers to be received are received with a call to <code>MPI_Recv</code> and immediately unpacked into the field data array.</li>
<li><code>IsendIrecvNoWait=3</code> : same as <code>IsendIrecv</code> but the sending messages are waited during the next call to the function or during the call to <code>distdir_finalize</code>. It can be used only when the sending processes and the receiving processes do not overlap, i.e. concurrent implementations.</li>
<li><code>IsendRecv1NoWait=4</code> : same as <code>IsendRecv1</code> but the sending messages are waited during the next call to the function or during the call to <code>distdir_finalize</code>. It can be used only when the sending processes and the receiving processes do not overlap, i.e. concurrent implementations.</li>
<li><code>IsendRecv2NoWait=5</code> : same as <code>IsendRecv2</code> but the sending messages are waited during the next call to the function or during the call to <code>distdir_finalize</code>. It can be used only when the sending processes and the receiving processes do not overlap, i.e. concurrent implementations.</li>
</ul>
<p>The default exchanger is <code>IsendIrecv</code>. The environment variable would set this parameter globally, while the API allows to set it per <a class="el" href="structt__exchanger.html">t_exchanger</a> object. This means that given the same map, fields exchanged with different exchangers but having the same communication path, can use different type of exchange. In this case the API function must be called before the call to <code>new_exchanger</code>, which creates a <a class="el" href="structt__exchanger.html">t_exchanger</a> object.</p>
<p>The verbose mode specifies if the library should run in verbose mode or not. An enumerator is defined internally:</p>
<ul>
<li><code>verbose_true=0</code> </li>
<li><code>verbose_false=1</code> </li>
</ul>
<p>This parameter is self explanatory.</p>
<h1><a class="anchor" id="map3d"></a>
Mapping 3D fields</h1>
<h1><a class="anchor" id="exchanger"></a>
Exchanger methods</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
